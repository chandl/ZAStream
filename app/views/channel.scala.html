@(stream: String, isLoggedIn: Boolean, userInfo: User, key: String, views: Integer)


@main(stream, isLoggedIn, userInfo) {

        <link type="text/css" rel="stylesheet" href="/assets/stylesheets/Cstyles.css" />
        <link href="//vjs.zencdn.net/5.8/video-js.min.css" rel="stylesheet" />
        @*<link href="/assets/stylesheets/videojs-errors.css" type="text/css" rel="stylesheet" />*@
        <script src="//vjs.zencdn.net/5.8/video.min.js"></script>
        <script src="/assets/javascripts/videojs-contrib-hls.min.js"></script>

    <script src="/assets/javascripts/videojs-brand.min.js"></script>



    <section class="bg-primary" id="one">
            <div class="container">
                @if(!Channel.isStreaming(key)){
                    <div class="row">
                        <div class="col-lg-6 col-lg-offset-3 col-md-8 col-md-offset-2 text-center">
                            <h1 text-align='center'>@stream</h1>
                            <video id="player" class="video-js vjs-big-play-centered" height="360" width="640" controls preload="auto">
                                <source src="/live/@key/index.m3u8" type='application/x-mpegURL' />
                            </video>



                            <p class="view-stats">
                                Current Viewers: <span id="viewCount">0</span>
                                Total Views: <span id="totalCount">@views</span>
                            </p>


                        </div>
                    </div>
                }else{
                    <div class="row">
                        <div class="col-lg-6 col-lg-offset-3 col-md-8 col-md-offset-2 text-center">
                            <h2 id="sorry">Sorry, @stream is not streaming right now.</h2>
                        </div>
                    </div>
                }


            </div>
        </section>

        @if(isLoggedIn){
            <section class="no-padding" id="two">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-6 col-lg-offset-3 col-md-8 col-md-offset-2 text-center">
                            <div id="wrapper">
                                <div id="menu">
                                    <p class="welcome">Welcome, @userInfo.userName<b></b></p>
                                    <p class="logout"><a id="exit" href="#">Exit Chat</a></p>
                                    <div style="clear:both"></div>
                                </div>

                                <div id="chatbox">



                                </div>


                                <input name="usermsg" type="text" id="usermsg" size="63" />
                                <input name="submitmsg" type="submit" id="submitmsg" value="Send" />

                            </div>
                        </div>
                    </div>

                </div>

            </section>
        }


    @if(Channel.isStreaming(key)) {
        <script>
                var player = videojs('#player');
                player.brand({
                    image: "assets/images/minimized-logo1.png",
                    title: "ZAStream",
                    destination: "https://zastream.com",
                    destinationTarget: "_top"
                });
        </script>
    }

   @*<script src="@routes.ChannelController.webSocketViewCount(stream)" type="text/javascript"></script>*@
   <script src="@routes.ChannelController.webSocketChat(stream, userInfo.userId)" type="text/javascript"></script>
}